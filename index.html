<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Department Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Bootstrap for easy styling (optional, you can remove if you prefer custom CSS) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background: #f5f7fa; }
    .ticker {
      width: 100vw; background: #0078D4; color: #fff; overflow: hidden; white-space: nowrap;
      padding: 0.5em 0; font-weight: bold; 
    }
    .ticker span {
      display: inline-block;
      padding-left: 100vw;
      animation: ticker 18s linear infinite;
    }
    @keyframes ticker { 0% { transform: translateX(0); } 100% { transform: translateX(-100vw); } }
    .nav-tabs .nav-link.active { color: #0078D4 !important; font-weight: bold; }
    .tab-content { background: #fff; border-radius: 0 0 6px 6px; padding: 2em 1em; }
    .event-list { list-style: none; padding: 0; }
    .event-list li { background: #f1f7ff; margin: 0.5em 0; padding: 0.75em 1em; border-radius: 6px; display: flex; justify-content: space-between; align-items: center; }
    .event-list button { background: #dc3545; color: #fff; border: none; border-radius: 4px; cursor: pointer; font-size: 0.9em; padding: 0.3em 0.9em;}
    .event-form input, .event-form button { font-size: 1em; padding: 0.5em; margin-right: 0.5em; }
    .project-card { margin: 1em 0; padding: 1em; background: #eef6fb; border-radius: 8px; }
    .project-card .btn { margin-top: 0.5em; }
    .external-link-list li { margin: 0.5em 0; }
    .external-link-list a { color: #0078D4; text-decoration: none; }
    .external-link-list a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <!-- Notification Ticker -->
  <div class="ticker"><span>üõéÔ∏è Notifications: Server maintenance this Friday 7 PM | New SOP released | Fill your event report on time | ...</span></div>

  <div class="container mt-4 mb-4">
    <h1 class="mb-3" style="color:#0078D4;">My Department Dashboard</h1>
    <ul class="nav nav-tabs" id="myTabs" role="tablist">
      <li class="nav-item" role="presentation"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#calendarTab" type="button" role="tab">Calendar</button></li>
      <li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#repoTab" type="button" role="tab">Repositories</button></li>
      <li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#projectTab" type="button" role="tab">Projects</button></li>
      <li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#studioTab" type="button" role="tab">Google Studio</button></li>
      <li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#externalTab" type="button" role="tab">External Links</button></li>
    </ul>
    <div class="tab-content">
      <!-- Calendar Tab -->
      <div class="tab-pane fade show active" id="calendarTab" role="tabpanel">
        <h2>Event Calendar</h2>
        <form class="event-form" onsubmit="addEvent(event)">
          <input type="date" id="eventDate" required>
          <input type="text" id="eventTitle" placeholder="Event Title" required>
          <button type="submit" class="btn btn-primary btn-sm">Add Event</button>
        </form>
        <ul class="event-list" id="eventList"></ul>
      </div>
      <!-- Repositories Tab -->
      <div class="tab-pane fade" id="repoTab" role="tabpanel">
        <h2>Repositories</h2>
        <ul>
          <li><a href="https://github.com/webkanregdenpasar/PDSKKRX" target="_blank">PDSKKRX</a> - Main repository for request status tools</li>
          <li><a href="#" target="_blank">Repo 2</a> - Brief description</li>
          <li><a href="#" target="_blank">Repo 3</a> - Brief description</li>
          <!-- Add more repo links here -->
        </ul>
      </div>
      <!-- Projects Tab -->
      <div class="tab-pane fade" id="projectTab" role="tabpanel">
        <h2>Department Projects</h2>
        <div class="row">
          <div class="col-md-6">
            <div class="project-card">
              <h5>Alat Bantu Imut</h5>
              <p>Generate and manage request status messages for IMUT.</p>
              <a href="generator.html" class="btn btn-primary" target="_blank">Open Project</a>
              <a href="project-generator.html" class="btn btn-link" target="_blank">Project Details</a>
            </div>
          </div>
          <div class="col-md-6">
            <div class="project-card">
              <h5>Project 2 Name</h5>
              <p>Short description of project 2. Key features, who it serves, etc.</p>
              <a href="#" class="btn btn-primary" target="_blank">Open Project</a>
              <a href="project-2.html" class="btn btn-link" target="_blank">Project Details</a>
            </div>
          </div>
          <!-- Repeat for more projects -->
        </div>
      </div>
      <!-- Google Studio Tab -->
      <div class="tab-pane fade" id="studioTab" role="tabpanel">
        <h2>Google Studio</h2>
        <ul>
          <li><a href="https://lookerstudio.google.com/u/0/reporting/b27bd506-c08c-48ed-8161-f142aa480db2/page/QedGF">Google Data Studio Main</a></li>
          <!-- Add more Google Studio links -->
        </ul>
      </div>
      <!-- External Links Tab -->
      <div class="tab-pane fade" id="externalTab" role="tabpanel">
        <h2>External Links</h2>
        <ul class="external-link-list">
          <li><a href="https://asndigital.bkn.go.id/">ASN digital</a></li>
          <li><a href="https://denpasar.bkn.go.id/">Kanreg X Website</a></li>
          <li><a href="#" target="_blank">Other Department Site</a></li>
          <!-- Add more external links -->
        </ul>
      </div>
    </div>
  </div>
  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Calendar: Add/Remove Events with localStorage
    const eventList = document.getElementById('eventList');
    let events = JSON.parse(localStorage.getItem('deptEvents') || "[]");
    function renderEvents() {
      eventList.innerHTML = '';
      if (!events.length) eventList.innerHTML = '<li>No events added yet.</li>';
      events.sort((a, b) => a.date.localeCompare(b.date)).forEach((ev, idx) => {
        const li = document.createElement('li');
        li.innerHTML = `<span>üìÖ <b>${ev.date}</b> - ${ev.title}</span>
          <button onclick="removeEvent(${idx})">Remove</button>`;
        eventList.appendChild(li);
      });
    }
    function addEvent(e) {
      e.preventDefault();
      const date = document.getElementById('eventDate').value;
      const title = document.getElementById('eventTitle').value.trim();
      if (!date || !title) return;
      events.push({ date, title });
      localStorage.setItem('deptEvents', JSON.stringify(events));
      renderEvents();
      e.target.reset();
    }
    function removeEvent(idx) {
      if (!confirm("Delete this event?")) return;
      events.splice(idx, 1);
      localStorage.setItem('deptEvents', JSON.stringify(events));
      renderEvents();
    }
    renderEvents();
  </script>
</body>
</html>
